<script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>

<style>.cactus-container{display:flex;flex-direction:column;gap:1em;color:var(--cactus-text-color);background-color:var(--cactus-background-color)}.cactus-error{padding:.5em;padding-inline-end:1.5em;border:var(--cactus-border-width) solid var(--cactus-error-color);border-radius:var(--cactus-border-radius);position:relative}.cactus-error-close{position:absolute;right:.2em;top:0;border:none}.cactus-error-close:hover:not([disabled]){cursor:pointer}.cactus-error-close:active:not([disabled]){cursor:pointer}.cactus-error-close-icon{inline-size:20px;block-size:20px}.cactus-error-text{color:var(--cactus-error-color);font-weight:700;margin:0}.cactus-editor{display:flex;flex-direction:column;gap:.5em}.cactus-editor-below{display:flex;flex-wrap:wrap;gap:.5em;justify-content:flex-end}.cactus-editor-name{display:flex;flex:1}.cactus-editor-name>span{display:flex;flex:1;min-inline-size:20ch;max-inline-size:40ch}.cactus-editor-name>span>input{inline-size:100%;border-radius:var(--cactus-border-radius);border:solid var(--cactus-border-width) var(--cactus-border-color);padding:.5em;background-color:transparent;color:inherit;font-size:inherit}.cactus-editor-name>span>input::placeholder{color:var(--cactus-text-color--soft)}.cactus-editor-buttons{display:flex;gap:.5em}.cactus-matrixdotto-only{align-self:center;text-decoration:none}.cactus-login-form-wrapper{position:fixed;top:0;bottom:0;left:0;right:0;z-index:1;display:flex;align-items:center;justify-content:center}.cactus-login-form{display:flex;flex-direction:column;gap:2em;padding:2rem;border-radius:var(--cactus-border-radius);background-color:var(--cactus-background-color--strong);color:var(--cactus-login-form-text-color);box-shadow:0 .5em 1em .5em var(--cactus-box-shadow-color);box-sizing:border-box;inline-size:100%;max-inline-size:300px}.cactus-login-close{align-self:flex-end;position:relative;margin:-2em;padding:0;color:var(--cactus-button-color);scale:2;background-color:transparent;border:none}.cactus-login-close:hover:not([disabled]){color:var(--cactus-button-color--strong);cursor:pointer}.cactus-login-close:active:not([disabled]){color:var(--cactus-button-color--stronger);cursor:pointer}.cactus-login-close-icon{inline-size:20px;block-size:20px}.cactus-login-title{align-self:center;font-size:1.17em;font-weight:700;margin:0}.cactus-login-client{display:flex;flex-direction:column;gap:1em}.cactus-login-client-title{font-size:1em;font-weight:700;margin:0}.cactus-matrixdotto-button{justify-content:center;text-decoration:none}.cactus-login-credentials{display:flex;flex-direction:column;gap:1em}.cactus-login-credentials-title{font-size:1em;font-weight:700;margin:0}.cactus-login-field{display:flex;flex-direction:column;gap:.25em}.cactus-login-label{font-size:1em;padding-bottom:.25em;color:var(--cactus-text-color--soft)}.cactus-login-error{margin:0;font-size:.8em;color:var(--cactus-text-color--soft)}.cactus-login-field>input{border-radius:var(--cactus-border-radius);border:solid var(--cactus-border-width) var(--cactus-border-color);padding:.5em;background-color:transparent;color:inherit;font-size:inherit}.cactus-login-field>input::placeholder{color:var(--cactus-text-color--soft)}.cactus-login-credentials-button{justify-content:center}.cactus-comments-container{position:absolute;width:100%;height:70%;left:0px;top:5%;overflow: auto;display:flex;flex-direction: column-reverse;}.cactus-comments-list{display:flex;flex-direction:column-reverse;gap:.5em}.cactus-comment{display:flex;flex-direction:row;gap:1em;padding-block-end:.5em;border-block-end:var(--cactus-border-width) solid var(--cactus-border-color)}.cactus-comment-avatar{display:flex}.cactus-comment-avatar>*{width:2.5rem;height:2.5rem;border-radius:50%;margin:0}.cactus-comment-avatar-placeholder{display:flex;justify-content:center;align-items:center;background-color:var(--cactus-border-color);color:var(--cactus-text-color--soft)}.cactus-comment-avatar-placeholder:before{content:"?"}.cactus-comment-content{display:flex;flex-direction:column;gap:.5em}.cactus-comment-header{display:flex;gap:.5em;flex-wrap:wrap}.cactus-comment-displayname{font-weight:700;cursor:pointer;text-decoration:none;color:inherit}.cactus-comment-time{color:var(--cactus-text-color--soft)}.cactus-message-text>:first-child{margin-block-start:0}.cactus-message-text>:last-child{margin-block-end:0}.cactus-message-emote{padding-top:.5em;color:var(--cactus-text-color--soft)}.cactus-message-image{max-width:100%;height:auto}.cactus-message-file{line-height:3em;margin-left:1em}.cactus-message-video{max-width:100%}.cactus-button{display:flex;align-items:center;padding-block:.6em;padding-inline:1em;background-color:var(--cactus-button-color);font-weight:700;border-radius:var(--cactus-border-radius);color:var(--cactus-button-text-color);font-size:inherit;border:none}.cactus-button:hover:not([disabled]){background-color:var(--cactus-button-color--strong);cursor:pointer}.cactus-button:active:not([disabled]){background-color:var(--cactus-button-color--stronger);cursor:pointer}.cactus-view-more{display:flex;justify-content:center}.spinner{align-self:center;width:2em;height:2em;display:flex;gap:.3em}.spinner>div{flex:1;background-color:var(--cactus-border-color);animation:sk-stretchdelay 2.4s ease-in-out infinite}.spinner .rect2{animation-delay:-2.2s}.spinner .rect3{animation-delay:-2s}.spinner .rect4{animation-delay:-1.8s}@keyframes sk-stretchdelay{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}</style>
<div id="title" style="animation-name: none;animation-duration: 1s;animation-iteration-count: 1; position:absolute;top:-95%;left:0px;z-index:999999;font-size:100%;height:100%;background-color:white;text-align:left;width:100%;">
  <div id="chats" style="background-color:black;border-bottom:5px solid white;position:absolute;bottom:5%;right:0px;z-index:999999;font-size:100%;height:95%;text-align:left;width:100%;">
    <a onclick="gohome();" style="text-decoration: none;cursor: pointer !important;pointer-events: auto !important;">
      <img src="/img/home.png" style="width:50px; height:50px; margin-top:5px; margin-left:5px;">
    </a>
    <button onclick="rules();" class="cactus-button" id="rules">rules</button>
  </div>
  <a onclick="menuclick();" style="cursor: pointer !important;pointer-events: auto !important;">
    <img src="/img/image.png" id="menuimg">
  </a>
</div>
<div id="comment-section"></div>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script>
  initComments({
    node: document.getElementById("comment-section"),
    defaultHomeserverUrl: "https://matrix.cactus.chat:8448",
    serverName: "cactus.chat",
    siteName: "dmunblockerchat",
    commentSectionId: "main"
  })
</script>
<style>
  #rules{
    position:absolute;
    right:0px;
    bottom:0px;
  }
  #b{
    position:absolute;
    left:0px;
    bottom:0px;
  }
  .divtext{
    line-height: 300%;
    width:100%;
    height:100%;
    display: table;
    font-size: 7vw;
    text-align:center;
  }
  .cactus-login-button{
      display:none !important;
    }
    button:disabled{
      opacity:0.5;
    }
  @keyframes slide-down{
    0%{top:-95%;}
    100%{top:0%;}
  }
  @keyframes slide-up{
    0%{top:0%;}
    100%{top:-95%;}
  }
  #menuimg{
    height:5%;
    display:block;
    position:absolute;
    bottom:0px;
    left:0px;
  }
  .cactus-comment-avatar{
    display:none;
  }
  .cactus-comment-content{
    margin-left:2%;
  }
  label {
    cursor: default;
    position: absolute;
    height: 0px !important;
    width: 0px !important;
    overflow: hidden;
    margin: 0px !important;
    padding: 0px;
    border: 0px;
  }
  .cactus-comment {
    display: flex;
    flex-direction: row;
    gap: 1em;
    font-size:28px;
    padding-block-end: 0.5em;
    border-block-end: 3px solid white;
}
  .cactus-button {
      display: flex;
      align-items: center;
      writing-mode: horizontal-tb;
      padding-block: 0.6em;
      padding-inline: 1em;
      font-weight: 700;
      border-radius:35px;
      background-color:transparent;
      border:5px solid white;
      color:white;
      font-size: inherit;
  }
  body{
    background-color:black;
    overflow:hidden;
  }
  .cactus-login-form {
    background-color:white;
    border:5px solid;
  }
  .cactus-editor{    
    position:absolute;
    bottom:3%;
    height:10%;
    width:100%;
  }
  .cactus-editor-buttons{
    height:100%;
    position:relative;
    bottom:0px;
  }
  .cactus-editor>span{
    height: 100%;
    position: relative;
    display: inline-block;
    width: 61%;
  }
  .cactus-editor>span>textarea {
    display:none !important;
    border-radius:35px 0% 0% 35px;
    resize:none;
    line-height: 190%;
    white-space: nowrap;
    box-sizing:border-box;
    font-size:300%;
    background-color:transparent;
    border:5px solid white;
    position: absolute;
    display:inline-block;
    width:100%;
    text-align: center; 
    bottom:0px;
    resize:none;
    overflow:hidden;
    padding-top:50%;
    padding-bottom:50%;
    height:0%;
    color:white;
    left:2%;
  }
  .cactus-editor-name>span>input::placeholder {
    color: white;
    line-height: 190%;
    opacity: 1;
    font-size:100%;
  }
  .cactus-editor-textarea::placeholder {
    color: white;
    opacity: 1;
  }
  .cactus-editor-name {
    height:100%;
    position:relative;
    bottom:0px;
  }
  .cactus-editor-name>span {
    width:100%;
    height:100%;
  }
  .cactus-editor-name>span>input{
    width:100%;
    height:100%;
    font-size:200%;
    border-radius:0% 35px 35px 0%;
    border:5px solid white;
    color:white;
  }
  .cactus-editor-name{
    height:100%;
    position:relative;
    bottom:0px;
  }
  
  .cactus-editor-below {
    position: absolute;
    width:35%;
    height:100%;
    right:2%;
    bottom:0px;
  }
  .cactus-container {
    display: flex;
    flex-direction: column;
    gap: 1em;
    color: white;
    background-color: transparent;
}
</style>
<script>
  window.onerror = function(msg, url, linenumber) {
    alert('Error message: '+msg+'\nURL: '+url+'\nLine Number: '+linenumber);
    return true;
  }
  
  function rules(){
    alert("rules - \n1. No impersonating others.\n2. No inappropriate links.\n3. No bullying.\n4. Just be nice!\n  \nBREAKING ANY OF THESE RULES WILL RESULT IN A PERMANENT BAN");
  }
  
  if (localStorage.getItem("read")==null){
    rules();
    localStorage.setItem("read", "true");
  }
  
  
  var txtbar=document.createElement("input"); 
  txtbar.style="margin-left:10px;border-radius: 35px 0% 0% 35px;resize: none;line-height: 190%;white-space: nowrap;box-sizing: border-box;font-size: 200%;background-color: transparent;border: 5px solid white;position: absolute;display: inline-block;width: 100%;text-align: center;bottom: 0px;resize: none;overflow: hidden;padding-bottom: 0%;height: 100%;color: white;left: 2%;"; 
  txtbar.placeholder="Add a comment"; 
  txtbar.className="cactus-editor-textarea"; 
  document.getElementsByClassName("cactus-editor")[0].querySelector("span").appendChild(txtbar);
  
  document.getElementsByClassName("cactus-editor-textarea")[0].scrollTo(0,(document.getElementsByClassName("cactus-editor-textarea")[0].scrollHeight/2)-(Math.ceil(document.getElementsByClassName("cactus-editor-textarea")[0].clientHeight/2)));
  function menuclick(){
    if (title.style.top=="-95%"){
      title.style.animationName="slide-down";
      title.addEventListener("animationend", (event) => {
        title.style.top="0%";
        title.style.animationName="none";
        title.addEventListener("animationend", (event) => {});
      });
    }
    else if (title.style.top=="0%"){
      title.style.animationName="slide-up";
      title.addEventListener("animationend", (event) => {
        title.style.top="-95%";
        title.style.animationName="none";
        title.addEventListener("animationend", (event) => {});
      });
    }
    else{
      console.log(title.style.top);
    }
  }
  
  function gohome(){
    title.style.animationName="slide-up";
      title.addEventListener("animationend", (event) => {
        title.style.top="-95%";
        title.style.animationName="none";
        window.location.href=window.location.origin;
        title.addEventListener("animationend", (event) => {});
      });
  }
  
  window.addEventListener('keydown',function(e) {
      if (e.keyIdentifier=='U+000A' || e.keyIdentifier=='Enter' || e.keyCode==13) {
        e.preventDefault();
        return false;
      }
  }, true);
  function loop(){
    if (document.getElementsByClassName("cactus-editor-textarea")[0].value!=document.getElementsByClassName("cactus-editor-textarea")[1].value){
      document.getElementsByClassName("cactus-editor-textarea")[0].value=document.getElementsByClassName("cactus-editor-textarea")[1].value;
    }
    if (document.getElementsByClassName("cactus-editor-name")[0].querySelector("span").querySelector("input").value==""){
      document.getElementsByClassName("cactus-send-button")[0].disabled=true;
    }
    if (document.getElementsByClassName("cactus-editor-textarea")[1].value==""){
      document.getElementsByClassName("cactus-send-button")[0].disabled=true;
    }
    if (document.getElementsByClassName("cactus-editor-textarea")[1].value!="" && document.getElementsByClassName("cactus-editor-name")[0].querySelector("span").querySelector("input").value!=""){
      document.getElementsByClassName("cactus-send-button")[0].disabled=false;
    }
  }
  setInterval(loop,0);
</script>
